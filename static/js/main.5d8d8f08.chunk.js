(this["webpackJsonpbookipy-reviews"]=this["webpackJsonpbookipy-reviews"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/thumb-down.7802808d.svg"},function(e,t,n){e.exports=n.p+"static/media/thumb-up.962766a5.svg"},function(e,t,n){e.exports=n.p+"static/media/AIRBNB.c74888e8.svg"},function(e,t,n){e.exports=n.p+"static/media/BOOKINGCOM.315b7eac.svg"},function(e,t,n){e.exports=n.p+"static/media/HOLIDU.5e3b3df4.svg"},,function(e,t,n){e.exports=n(34)},,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),l=n.n(c),i=n(2),o=(n(29),n(11)),u=n.n(o),s=n(12),m=n.n(s),f=n(13),p=n.n(f),E=n(14),v=n.n(E),g=n(15),h=n.n(g),d=n(16),b=n.n(d),k={AIRBNB:v.a,BOOKINGCOM:h.a,HOLIDU:b.a},y=(n(32),function(e){var t=e.headline,n=e.score,a=e.channel,c=e.comment,l=e.positiveFeedback,i=e.negativeFeedback,o=e.author,s=e.publishedAt,f=e.onClick;return r.a.createElement("article",null,r.a.createElement("header",null,r.a.createElement("span",{className:"badge",onClick:function(){return f("score",n)}},r.a.createElement("b",null,n),"/5"),r.a.createElement("img",{src:k[a],alt:"website name",onClick:function(){return f("channel",a)}}),r.a.createElement("h5",null,t)),r.a.createElement("summary",null,r.a.createElement("p",null,c),r.a.createElement("ul",null,l&&r.a.createElement("li",null,r.a.createElement("img",{src:p.a,alt:"agree point"})," ",l),i&&r.a.createElement("li",null,r.a.createElement("img",{src:m.a,alt:"disagree point"})," ",i))),r.a.createElement("footer",null,r.a.createElement("strong",null,o),r.a.createElement("time",null,"Reviewed ",r.a.createElement(u.a,{format:"DD MMM YYYY",element:"span"},s))))}),O=function(e){var t=e.items,n=void 0===t?[]:t,a=e.onClick;return n&&n.length?r.a.createElement("div",{id:"filter"},r.a.createElement("strong",{className:"mr-2"},"Filtered By:"),n.map((function(e,t){return r.a.createElement("button",{key:t,type:"button",className:"btn btn-sm btn-light mr-1 mb-1"},"score"===e.type?r.a.createElement(r.a.Fragment,null,"Score: ",r.a.createElement("b",null,e.value)):r.a.createElement("img",{src:k[e.value],alt:"channel icon"}),r.a.createElement("span",{className:"ml-1 badge badge-secondary",onClick:function(){return a(e)}},"X"))}))):null},w=function(e){var t=e.items,n=void 0===t?[]:t,a=e.active,c=e.onClick;return r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination  pagination-sm justify-content-end"},n.map((function(e,t){return r.a.createElement("li",{key:t,className:"page-item ".concat(e.num===a?"active":""),onClick:function(){return e.num===a?null:c(e)}},r.a.createElement("button",{className:"page-link"},e.text))}))))},j=function(e){return{type:"SET_REVIEW",items:e}},I=function(e,t,n){return{type:"SET_PAGES",pages:n,totalItems:t,current:e}},C=(n(33),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return{reviews:e.items,filters:e.filters,total:e.total,pages:e.pages,active_page:e.page}})),n=t.reviews,c=t.filters,l=t.total,o=t.pages,u=t.active_page,s=Object(a.useCallback)((function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t,n){var a=(n().filters||[]).map((function(e){return"".concat(e.type,"=").concat(e.value)}))||[];return a.push("_limit=5"),a.push("_page=".concat(e)),fetch("https://interview-task-api.bookiply.io/reviews?".concat(a.join("&"))).then((function(n){return t(I(e,n.headers.get("X-Total-Count"),n.headers.get("Link"))),n.json()})).then((function(e){return t(j(e))})).catch((function(e){return console.log(e)}))}}(t))}),[e]);return Object(a.useEffect)((function(){s()}),[e,c]),r.a.createElement("div",{className:"container"},r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("h4",null,"ID: 091021"),r.a.createElement("h1",null,"La Casa de las Flores")),r.a.createElement("section",null,r.a.createElement("h2",null,l," ","Review".concat(n.length>1?"s":"")),r.a.createElement(O,{items:c,onClick:function(t){return e(function(e){return{type:"REMOVE_FILTER",filter:e}}(t))}}),n.map((function(t,n){return r.a.createElement(y,Object.assign({key:n},t,{onClick:function(t,n){return e({type:"ADD_FILTER",filter:{type:t,value:n}})}}))}))),r.a.createElement("footer",{className:"p-2 d-flex justify-content-center"},r.a.createElement(w,{items:o,active:u,onClick:function(e){window.scrollTo({top:0,left:0,behavior:"smooth"}),s(e.num)}}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(1),R=n(17),_=n(3),x=n(5),T={total:1,page:1,pages:[],filters:[],items:[]};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGES":var n=t.pages.split(",").filter((function(e){return e})).map((function(e){var t=e.split(";"),n=new URLSearchParams(t[0].match("<(.*)>")[1]).get("_page");return{num:parseInt(n,10),text:t[1].match('rel="(.*)"')[1]}})),a=n.some((function(e){return e.num===t.current})),r=n.reduce((function(e,r){return!a&&r.num>t.current?(a=!0,[].concat(Object(x.a)(e),[{num:t.current,text:"".concat(t.current,"/").concat(n[n.length-1].num)},r])):[].concat(Object(x.a)(e),[r])}),[]);return Object(_.a)({},e,{total:t.totalItems,page:t.current,pages:r});case"REMOVE_FILTER":return Object(_.a)({},e,{filters:e.filters.filter((function(e){return!(e.type===t.filter.type&&e.value===t.filter.value)}))});case"ADD_FILTER":var c=e.filters.some((function(e){return e.type===t.filter.type&&e.value===t.filter.value}));return c?e:Object(_.a)({},e,{filters:[].concat(Object(x.a)(e.filters),[t.filter])});case"SET_REVIEW":return Object(_.a)({},e,{items:t.items});default:return e}};var D,F=(D={items:[],filters:[]},Object(N.c)(B,D,Object(N.a)(R.a)));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:F},r.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[18,1,2]]]);
//# sourceMappingURL=main.5d8d8f08.chunk.js.map