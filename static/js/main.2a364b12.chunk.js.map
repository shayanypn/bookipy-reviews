{"version":3,"sources":["icons/thumb-down.svg","icons/thumb-up.svg","icons/AIRBNB.svg","icons/BOOKINGCOM.svg","icons/HOLIDU.svg","constant.js","components/Review/index.js","components/Filter/index.js","actions/index.js","containers/App/index.js","serviceWorker.js","reducers/review.js","reducers/index.js","index.js","store/configureStore.js"],"names":["module","exports","iconsMap","AIRBNB","BOOKINGCOM","HOLIDU","Review","headline","score","channel","comment","positiveFeedback","negativeFeedback","author","publishedAt","onClick","className","src","alt","thumbUp","thumbDown","format","element","Filter","items","id","map","filter","index","key","type","value","setReviews","connect","state","reviews","review","filters","dispatch","useEffect","getState","query","join","fetch","then","res","json","catch","err","console","log","length","removeFilter","aria-label","href","tabIndex","aria-disabled","Boolean","window","location","hostname","match","default_state","action","filterExists","find","rootReducer","combineReducers","initialState","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.2a364b12.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/thumb-down.7802808d.svg\";","module.exports = __webpack_public_path__ + \"static/media/thumb-up.962766a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/AIRBNB.c74888e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/BOOKINGCOM.315b7eac.svg\";","module.exports = __webpack_public_path__ + \"static/media/HOLIDU.5e3b3df4.svg\";","import AIRBNB from './icons/AIRBNB.svg';\nimport BOOKINGCOM from './icons/BOOKINGCOM.svg';\nimport HOLIDU from './icons/HOLIDU.svg';\n\nexport const iconsMap = {\n\t'AIRBNB': AIRBNB,\n\t'BOOKINGCOM': BOOKINGCOM,\n\t'HOLIDU': HOLIDU\n};\n","import React from 'react';\nimport Moment from 'react-moment';\nimport thumbDown from '../../icons/thumb-down.svg';\nimport thumbUp from '../../icons/thumb-up.svg';\nimport { iconsMap } from '../../constant';\nimport './main.css';\n\nconst Review = ({\n\theadline,\n\tscore,\n\tchannel,\n\tcomment,\n\tpositiveFeedback,\n\tnegativeFeedback,\n\tauthor,\n\tpublishedAt,\n\tonClick,\n}) => (\n  <article>\n    <header>\n      <span \n      \tclassName=\"badge\"\n      \tonClick={() => onClick('score', score)}\n      >\n      \t<b>{score}</b>/5\n      </span>\n      <img \n      \tsrc={iconsMap[channel]}\n      \talt=\"website name\"\n      \tonClick={() => onClick('channel', channel)}\n      />\n      <h5>{headline}</h5>\n    </header>\n    <summary>\n      <p>{comment}</p>\n      <ul>\n      \t{positiveFeedback && <li><img src={thumbUp} alt=\"agree point\" /> {positiveFeedback}</li> }\n      \t{negativeFeedback && <li><img src={thumbDown} alt=\"disagree point\" /> {negativeFeedback}</li> }\n      </ul>\n    </summary>\n    <footer>\n      <strong>{author}</strong>\n      <time>\n      \tReviewed <Moment format=\"DD MMM YYYY\" element=\"span\">{publishedAt}</Moment>\n      </time>\n    </footer>\n  </article>\n)\n\nexport default Review;\n","import React from 'react';\nimport { iconsMap } from '../../constant';\nimport './main.css';\n\nconst Filter = ({ items = [], onClick }) => (\n  <div id=\"filter\">\n    <strong className=\"mr-2\">Filtered By:</strong>\n    {items.map((filter, index) => \n      (\n        <button key={index}\n          type=\"button\"\n          className=\"btn btn-sm btn-light mr-1 mb-1\"\n          >\n          {filter.type === \"score\"\n            ? <>Score: <b>{filter.value}</b></>\n            : <img src={iconsMap[filter.value]} alt=\"channel icon\" />\n          }\n          <span \n            className=\"ml-1 badge badge-secondary\"\n            onClick={() => onClick(filter)}\n            >X</span>\n        </button>\n      )\n    )}\n  </div>\n)\n\nexport default Filter;\n","\nexport const SET_REVIEW = 'SET_REVIEW';\nexport const ADD_FILTER = 'ADD_FILTER';\nexport const REMOVE_FILTER = 'REMOVE_FILTER';\n\nexport const fetchReviews = (items) => {\n\treturn (dispatch, getState) => {\n\t\tconst { review:{ filters } } = getState();\n\t\t// To READ\n\t\t// Also better to have a pattern for specifying\n\t\t// our API URL, as latter if it get complex, we\n\t\t// can easliy manage them\n\t\tconst query = filters.map(filter => `${filter.type}=${filter.value}`)\n\t\t\t\t\t\t\t\t\t.join('&');\n\n\t\treturn fetch(`https://interview-task-api.bookiply.io/reviews?${query}`)\n\t\t.then(res => res.json())\n\t\t.then(res => dispatch(setReviews(res)))\n\t\t.catch(\n\t\t\terr => console.log(err)\n\t\t\t// TODO handle later\n\t\t);\n\t}\n}\n\nexport const setReviews = (items) => ({\n\ttype: SET_REVIEW,\n\titems\n});\n\nexport const addFilter = (filter) => ({\n\ttype: ADD_FILTER,\n\tfilter\n});\n\nexport const removeFilter = (filter) => ({\n\ttype: REMOVE_FILTER,\n\tfilter\n});\n\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Review from '../../components/Review';\nimport Filter from '../../components/Filter';\nimport { fetchReviews, addFilter, removeFilter } from '../../actions';\nimport './main.css';\n\nconst App = ({ dispatch, reviews, filters }) => {\n\n  useEffect(() => {\n    dispatch(fetchReviews());\n  }, [dispatch, filters]);\n\n  return (\n    <div className=\"container\">\n      <main>\n        <header>\n          <h4>ID: 091021</h4>  \n          <h1>La Casa de las Flores</h1>\n        </header>\n        <section>\n          <h2>{reviews.length} {`Review${reviews.length > 1 ? 's' : ''}`}</h2>\n          {(filters && filters.length) && (<Filter\n            items={filters}\n            onClick={(filter) => dispatch(removeFilter(filter))}\n          />)}\n          {reviews.map((review, index) =>\n              <Review\n                key={index}\n                {...review}\n                onClick={(type, value) => dispatch(addFilter({type, value}))}\n              />\n          )}\n        </section>\n        <footer className=\"p-2 d-flex justify-content-center\">\n          <nav aria-label=\"Page navigation example\">\n            <ul className=\"pagination justify-content-end\">\n              <li className=\"page-item disabled\">\n                <a className=\"page-link\" href=\"/\" tabIndex=\"-1\" aria-disabled=\"true\">Previous</a>\n              </li>\n              <li className=\"page-item\"><a className=\"page-link\" href=\"/\">1</a></li>\n              <li className=\"page-item\"><a className=\"page-link\" href=\"/\">2</a></li>\n              <li className=\"page-item\"><a className=\"page-link\" href=\"/\">3</a></li>\n              <li className=\"page-item\">\n                <a className=\"page-link\" href=\"/\">Next</a>\n              </li>\n            </ul>\n          </nav>\n        </footer>\n      </main>\n    </div>\n  );\n}\n\nexport default connect(state => ({\n  reviews: state.review.items,\n  filters: state.review.filters,  \n}))(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { SET_REVIEW, ADD_FILTER, REMOVE_FILTER } from '../actions';\n\nconst default_state = {\n  filters: [],\n  items: []\n};\n\nfunction Review(state = default_state, action) {\n  switch (action.type) {\n    case REMOVE_FILTER:\n      return {\n        ...state,\n        filters: state.filters.filter(filter => !(\n          filter.type === action.filter.type\n          && filter.value === action.filter.value\n        ))\n      };\n    case ADD_FILTER:\n      const filterExists = state.filters.find(filter => (\n        filter.type === action.filter.type\n        && filter.value === action.filter.value\n      ));\n      return filterExists ? state : {\n        ...state,\n        filters: [...state.filters, action.filter]\n      };\n    case SET_REVIEW:\n      return {\n        ...state,\n        items: action.items\n      };\n    default:\n      return state\n  }\n}\n\nexport default Review;","import { combineReducers } from 'redux';\nimport review from './review';\n\n// Just to show the case, when we \n// have more reduce, otherwise we \n// don't need this\nconst rootReducer = combineReducers({\n\treview,\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport './index.css';\nimport App from './containers/App';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './store/configureStore.js';\n\nconst store = configureStore({});\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers';\n\nexport default function configureStore(initialState) {\n\tconst store = createStore(\n\t\trootReducer,\n\t\tinitialState,\n\t\tapplyMiddleware(thunk)\n\t);\n\n\tif (module.hot) {\n\t\t// Enable Webpack hot module replacement for reducers\n\t\tmodule.hot.accept('../reducers', () => {\n\t\t\tconst nextReducer = require('../reducers');\n\t\t\tstore.replaceReducer(nextReducer);\n\t\t});\n\t}\n\n  return store;\n}"],"sourceRoot":""}